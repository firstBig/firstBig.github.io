import{g as q}from"./request-DuKRqWk2.js";import{u as A}from"./counter-CgvpisZi.js";import{k as H,a as u,r as f,l as I,C as J,m as K,b as T,o as d,c as m,d as l,x as _,e as s,h,w as S,f as V,i as B,T as R,F as x,j as U,g as k,y as Q,z as W}from"./index-BFD346K-.js";const X=n=>q("/record/recent/song",n),N=n=>(Q("data-v-25476664"),n=n(),W(),n),Y={key:0,class:"btn-text name"},Z=N(()=>l("span",{class:""},null,-1)),ee=["src"],te={class:"btn-text name"},ae=["onClick"],le=["onClick"],oe=["onClick","disabled"],se=N(()=>l("p",null,"确定删除当前数据？",-1)),ne={__name:"recentlyPlayed",setup(n){let p=A(),g=u(!1),i=u(!1),c=u(!1),O=u("新增"),y=f([]),b=f({total:0,current:1,pageSize:10});const z=[{title:"#",dataIndex:"xh",width:50,ellipsis:!0},{title:"标题",dataIndex:"name",width:"30%",ellipsis:!0},{title:"类型",dataIndex:"resourceType",width:"10%",ellipsis:!0},{title:"专辑",dataIndex:"album",width:"25%",ellipsis:!0},{title:"播放次数",dataIndex:"fee",width:"12%",ellipsis:!0},{title:"播放时间",dataIndex:"playTime",width:"20%",ellipsis:!0},{title:"操作",dataIndex:"operation",width:100}];let w=f({total:0,current:1,pageSize:10}),D=()=>{g.value=!0,X({limit:50}).then(e=>{g.value=!1,y=e.data.list.map((t,r)=>({name:t.data.name,album:t.data.al.name,picUrl:t.data.al.picUrl,playTime:t.playTime,fee:t.data.fee,resourceType:t.resourceType})),w.total=e.data.total}).catch(e=>{})};const E=(e,t,r)=>{},F=e=>{console.log(e),i.value=!0},M=(e,t,r)=>{i.value=!1},P=e=>{console.log(e),c.value=!0},j=(e,t,r)=>{c.value=!1},G=e=>{e.fee++,console.log(e)},L=()=>{b.total++,p.increment(),console.log(b)};return I(()=>p.count,(e,t)=>{console.log(e)}),I(b,(e,t)=>{console.log(e,t)}),J(()=>{let e=p.count;console.log(666,e)}),K(()=>{console.log(123),D()}),(e,t)=>{const r=T("a-table"),v=T("a-modal");return d(),m(x,null,[l("span",null,_(s(p).count),1),l("button",{onClick:L},"加"),h(r,{class:"table-box",columns:z,"data-source":s(y),pagination:s(w),loading:s(g),onChange:E},{bodyCell:S(({column:a,index:$,record:o})=>[a.dataIndex==="xh"?(d(),m("span",Y,[U(_($+1)+" ",1),Z])):k("",!0),a.dataIndex==="name"?(d(),m(x,{key:1},[l("img",{class:"img-prew",src:o.picUrl,alt:""},null,8,ee),l("span",te,_(o.name),1)],64)):k("",!0),a.dataIndex==="operation"?(d(),m(x,{key:2},[U(_(o.fee)+" ",1),l("button",{class:"btn-text",onClick:C=>F(o)},"删除",8,ae),l("button",{class:"btn-text",onClick:C=>P(o)},"编辑",8,le),l("button",{class:"btn-text",onClick:C=>G(o),disabled:o.fee>12},"加",8,oe)],64)):k("",!0)]),_:1},8,["data-source","pagination","loading"]),(d(),V(R,{to:"body"},[h(v,{visible:s(i),"onUpdate:visible":t[0]||(t[0]=a=>B(i)?i.value=a:i=a),centered:"",title:"Basic Modal",onOk:M},{default:S(()=>[se]),_:1},8,["visible"])])),(d(),V(R,{to:"body"},[h(v,{visible:s(c),"onUpdate:visible":t[1]||(t[1]=a=>B(c)?c.value=a:c=a),centered:"",title:s(O),onOk:j},null,8,["visible","title"])]))],64)}}},re=H(ne,[["__scopeId","data-v-25476664"]]);export{re as default};
